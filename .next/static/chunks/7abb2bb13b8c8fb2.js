(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,96900,27587,e=>{"use strict";var t=e.i(43476),r=e.i(71645);let s=(0,r.createContext)(void 0),i=()=>{let e=(0,r.useContext)(s);if(!e)throw Error("useToast must be used within a ToastProvider");return e};e.s(["ToastProvider",0,({children:e})=>{let[i,a]=(0,r.useState)([]),n=(0,r.useCallback)((e,t="info")=>{let r=Math.random().toString(36).substr(2,9);a(s=>[...s,{id:r,message:e,type:t}]),setTimeout(()=>{a(e=>e.filter(e=>e.id!==r))},3e3)},[]),u=(0,r.useCallback)(e=>{a(t=>t.filter(t=>t.id!==e))},[]);return(0,t.jsx)(s.Provider,{value:{addToast:n,removeToast:u,toasts:i},children:e})},"useToast",0,i],27587);let a=(0,r.createContext)(void 0);e.s(["OrderProvider",0,({children:e})=>{let{addToast:s}=i(),[n,u]=(0,r.useState)([]),[o,d]=(0,r.useState)([]),[l,c]=(0,r.useState)([]);(0,r.useEffect)(()=>{let e=localStorage.getItem("orders");e&&d(JSON.parse(e));let t=localStorage.getItem("serviceRequests");t&&c(JSON.parse(t))},[]),(0,r.useEffect)(()=>{localStorage.setItem("orders",JSON.stringify(o))},[o]),(0,r.useEffect)(()=>{localStorage.setItem("serviceRequests",JSON.stringify(l))},[l]),(0,r.useEffect)(()=>{let e=e=>{"orders"===e.key&&e.newValue&&d(JSON.parse(e.newValue)),"serviceRequests"===e.key&&e.newValue&&c(JSON.parse(e.newValue))};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[]);let[m,g]=(0,r.useState)(!1),v=()=>u([]);return(0,t.jsx)(a.Provider,{value:{cart:n,orders:o,serviceRequests:l,addToCart:(e,t,r)=>{let i={...e,cartId:Math.random().toString(36).substr(2,9),quantity:t,notes:r};u(e=>[...e,i]),s(`Added ${t}x ${e.name} to cart`,"success")},removeFromCart:e=>{u(t=>t.filter(t=>t.cartId!==e))},updateCartQuantity:(e,t)=>{u(r=>r.map(r=>{if(r.cartId===e){let e=Math.max(0,r.quantity+t);return{...r,quantity:e}}return r}).filter(e=>e.quantity>0))},clearCart:v,placeOrder:(e,t,r=!1)=>{if(0===n.length)return;let i=n.reduce((e,t)=>e+t.price*t.quantity,0),a={id:Math.random().toString(36).substr(2,9),tableId:e,items:[...n],status:"pending",timestamp:Date.now(),total:i,isPaid:r,customerName:t};d(e=>[a,...e]),v(),s("Order placed successfully!","success")},updateOrderStatus:(e,t)=>{d(r=>r.map(r=>r.id===e?{...r,status:t}:r)),s(`Order #${e.substr(0,4)} status: ${t}`,"info")},toggleOrderPayment:e=>{d(t=>t.map(t=>t.id===e?{...t,isPaid:!t.isPaid}:t))},requestService:(e,t,r)=>{let i={id:Math.random().toString(36).substr(2,9),tableId:e,type:t,status:"pending",timestamp:Date.now(),message:r};c(e=>[i,...e]),s("Service request sent","info")},resolveServiceRequest:e=>{c(t=>t.filter(t=>t.id!==e))},isCartOpen:m,setIsCartOpen:g},children:e})},"useOrder",0,()=>{let e=(0,r.useContext)(a);if(!e)throw Error("useOrder must be used within an OrderProvider");return e}],96900)},57951,e=>{"use strict";var t=e.i(43476),r=e.i(71645);let s=(0,r.createContext)(void 0);e.s(["AuthProvider",0,({children:e})=>{let[i,a]=(0,r.useState)(null);return(0,t.jsx)(s.Provider,{value:{user:i,login:(e,t)=>{a({name:e,phone:t,isGuest:!1})},loginAsGuest:()=>{a({name:"Guest",phone:"",isGuest:!0})},logout:()=>{a(null)},isAuthenticated:!!i},children:e})},"useAuth",0,()=>{let e=(0,r.useContext)(s);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}])},30824,e=>{"use strict";var t=e.i(43476),r=e.i(27587),s=e.i(57951),i=e.i(96900);let a=()=>{let{toasts:e,removeToast:s}=(0,r.useToast)();return(0,t.jsx)("div",{className:"fixed top-4 right-4 z-[100] flex flex-col gap-2 pointer-events-none",children:e.map(e=>(0,t.jsxs)("div",{className:`pointer-events-auto min-w-[300px] p-4 rounded-xl shadow-lg border flex items-center gap-3 animate-fade-in ${(e=>{switch(e){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"info":return"bg-blue-50 border-blue-200 text-blue-800"}})(e.type)}`,children:[(0,t.jsx)("span",{className:"text-xl",children:(e=>{switch(e){case"success":return"✅";case"error":return"❌";case"warning":return"⚠️";case"info":return"ℹ️"}})(e.type)}),(0,t.jsx)("p",{className:"font-medium text-sm",children:e.message}),(0,t.jsx)("button",{onClick:()=>s(e.id),className:"ml-auto text-gray-400 hover:text-gray-600",children:"×"})]},e.id))})};function n({children:e}){return(0,t.jsx)(r.ToastProvider,{children:(0,t.jsx)(s.AuthProvider,{children:(0,t.jsxs)(i.OrderProvider,{children:[e,(0,t.jsx)(a,{})]})})})}e.s(["Providers",()=>n],30824)}]);